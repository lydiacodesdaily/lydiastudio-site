@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply text-nearBlack font-sans antialiased;
    background-color: #FAF7F1;
  }

  ::selection {
    @apply bg-matcha-200 text-nearBlack;
  }
}

@layer components {
  .editorial-grid {
    display: grid;
    grid-template-columns: 1fr min(720px, 100%) 1fr;
    padding-inline: 1.5rem;
  }

  .editorial-grid > * {
    grid-column: 2;
  }

  .editorial-grid > .full-bleed {
    grid-column: 1 / -1;
    width: 100%;
  }

  .editorial-grid > .breakout {
    grid-column: 1 / -1;
    width: min(1100px, 100%);
    margin-inline: auto;
    padding-inline: 1.5rem;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Subtle reveal animation */
  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-up {
    animation: fade-up 0.8s ease-out forwards;
  }

  .animate-delay-100 { animation-delay: 100ms; }
  .animate-delay-200 { animation-delay: 200ms; }
  .animate-delay-300 { animation-delay: 300ms; }
  .animate-delay-400 { animation-delay: 400ms; }

  /* Floating leaf animations - natural falling with diagonal drift */
  @keyframes leaf-drift-1 {
    0% {
      transform: translateY(-20px) translateX(0) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateY(3vh) translateX(-8px) rotate(25deg);
      opacity: 0.6;
    }
    15% {
      transform: translateY(13vh) translateX(-20px) rotate(55deg);
    }
    25% {
      transform: translateY(24vh) translateX(-15px) rotate(90deg);
    }
    35% {
      transform: translateY(34vh) translateX(-28px) rotate(130deg);
    }
    45% {
      transform: translateY(44vh) translateX(-22px) rotate(170deg);
    }
    55% {
      transform: translateY(54vh) translateX(-35px) rotate(210deg);
    }
    65% {
      transform: translateY(65vh) translateX(-30px) rotate(255deg);
    }
    75% {
      transform: translateY(75vh) translateX(-42px) rotate(300deg);
    }
    85% {
      transform: translateY(86vh) translateX(-38px) rotate(340deg);
    }
    95% {
      transform: translateY(96vh) translateX(-50px) rotate(370deg);
      opacity: 0.6;
    }
    100% {
      transform: translateY(105vh) translateX(-55px) rotate(390deg);
      opacity: 0;
    }
  }

  @keyframes leaf-drift-2 {
    0% {
      transform: translateY(-20px) translateX(0) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateY(4vh) translateX(5px) rotate(-20deg);
      opacity: 0.5;
    }
    15% {
      transform: translateY(14vh) translateX(15px) rotate(-50deg);
    }
    25% {
      transform: translateY(24vh) translateX(8px) rotate(-85deg);
    }
    35% {
      transform: translateY(35vh) translateX(22px) rotate(-120deg);
    }
    45% {
      transform: translateY(45vh) translateX(12px) rotate(-160deg);
    }
    55% {
      transform: translateY(56vh) translateX(28px) rotate(-200deg);
    }
    65% {
      transform: translateY(66vh) translateX(18px) rotate(-240deg);
    }
    75% {
      transform: translateY(76vh) translateX(32px) rotate(-280deg);
    }
    85% {
      transform: translateY(87vh) translateX(25px) rotate(-320deg);
    }
    95% {
      transform: translateY(97vh) translateX(38px) rotate(-355deg);
      opacity: 0.5;
    }
    100% {
      transform: translateY(105vh) translateX(42px) rotate(-380deg);
      opacity: 0;
    }
  }

  @keyframes leaf-drift-3 {
    0% {
      transform: translateY(-20px) translateX(0) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateY(5vh) translateX(-5px) rotate(15deg);
      opacity: 0.55;
    }
    15% {
      transform: translateY(15vh) translateX(-12px) rotate(40deg);
    }
    25% {
      transform: translateY(26vh) translateX(-5px) rotate(70deg);
    }
    35% {
      transform: translateY(36vh) translateX(-18px) rotate(105deg);
    }
    45% {
      transform: translateY(47vh) translateX(-10px) rotate(140deg);
    }
    55% {
      transform: translateY(57vh) translateX(-22px) rotate(175deg);
    }
    65% {
      transform: translateY(68vh) translateX(-15px) rotate(215deg);
    }
    75% {
      transform: translateY(78vh) translateX(-28px) rotate(250deg);
    }
    85% {
      transform: translateY(89vh) translateX(-20px) rotate(290deg);
    }
    95% {
      transform: translateY(98vh) translateX(-32px) rotate(325deg);
      opacity: 0.55;
    }
    100% {
      transform: translateY(105vh) translateX(-38px) rotate(350deg);
      opacity: 0;
    }
  }

  /* Leaf 4 - drifts right (for left-positioned leaves) */
  @keyframes leaf-drift-4 {
    0% {
      transform: translateY(-20px) translateX(0) rotate(0deg);
      opacity: 0;
    }
    5% {
      transform: translateY(4vh) translateX(6px) rotate(-15deg);
      opacity: 0.5;
    }
    15% {
      transform: translateY(14vh) translateX(18px) rotate(-40deg);
    }
    25% {
      transform: translateY(25vh) translateX(12px) rotate(-70deg);
    }
    35% {
      transform: translateY(35vh) translateX(28px) rotate(-100deg);
    }
    45% {
      transform: translateY(46vh) translateX(20px) rotate(-135deg);
    }
    55% {
      transform: translateY(56vh) translateX(35px) rotate(-170deg);
    }
    65% {
      transform: translateY(67vh) translateX(28px) rotate(-205deg);
    }
    75% {
      transform: translateY(77vh) translateX(42px) rotate(-245deg);
    }
    85% {
      transform: translateY(88vh) translateX(35px) rotate(-280deg);
    }
    95% {
      transform: translateY(98vh) translateX(48px) rotate(-315deg);
      opacity: 0.5;
    }
    100% {
      transform: translateY(105vh) translateX(55px) rotate(-340deg);
      opacity: 0;
    }
  }

  .animate-leaf-1 {
    animation: leaf-drift-1 14s linear infinite;
  }

  .animate-leaf-2 {
    animation: leaf-drift-2 12s linear infinite;
    animation-delay: 4s;
  }

  .animate-leaf-3 {
    animation: leaf-drift-3 15s linear infinite;
    animation-delay: 8s;
  }

  .animate-leaf-4 {
    animation: leaf-drift-4 13s linear infinite;
    animation-delay: 2s;
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .animate-leaf-1,
    .animate-leaf-2,
    .animate-leaf-3,
    .animate-leaf-4 {
      animation: none;
      opacity: 0.4;
      transform: translateY(30vh);
    }
  }

  /* Horizontal rule styling */
  .editorial-hr {
    @apply w-12 h-px bg-matcha-accent/40 my-8;
  }
}
